# SPDX-License-Identifier: Apache-2.0
# api/.env.example
PORT=4000
NODE_ENV=development
DATA_DIR=./api/.data

# Auth / HMAC
API_SHARED_SECRET=change-me
HMAC_KEYS=                 # optional: keyA=secretA,keyB=secretB
HMAC_WINDOW_SEC=300
HMAC_MAX_SKEW_SEC=10
NONCE_TTL_SEC=600
NONCE_MEM_MAX=50000

# Network / Proxy
ALLOWED_ORIGINS=*
BADGE_SCRIPT_ORIGIN='self'

# Rate limit
RL_BUCKET=80
RL_REFILL=5

# Cache headers for badge
BADGE_CACHE_TTL_SEC=60
BADGE_SWR_SEC=300

# Redis (optional for nonce store)
REDIS_URL=

# Metrics guard
METRICS_ALLOWLIST=
METRICS_BASIC_AUTH=        # user:pass

# Build flags
BATCH_POLICY=static com
